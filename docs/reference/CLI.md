# CLI Reference

Generated by `cihub docs generate`. Do not edit.
## cihub

```
usage: cihub [-h] [--version]
             {detect,preflight,doctor,scaffold,smoke,check,verify,ci,run,report,docs,adr,config-outputs,hub-ci,new,init,update,validate,setup-secrets,setup-nvd,fix-pom,fix-deps,sync-templates,config}
             ...

CI/CD Hub CLI

positional arguments:
  {detect,preflight,doctor,scaffold,smoke,check,verify,ci,run,report,docs,adr,config-outputs,hub-ci,new,init,update,validate,setup-secrets,setup-nvd,fix-pom,fix-deps,sync-templates,config}
    detect              Detect repo language and tools
    preflight           Check environment readiness
    doctor              Alias for preflight
    scaffold            Generate a minimal fixture project
    smoke               Run a local smoke test
    check               Run local validation checks
    verify              Verify workflow/template contracts
    ci                  Run CI based on .ci-hub.yml
    run                 Run one tool and emit JSON output
    report              Build reports and summaries
    docs                Generate reference documentation
    adr                 Manage Architecture Decision Records
    config-outputs      Emit config outputs for GitHub Actions
    hub-ci              Hub production CI helpers
    new                 Create hub-side repo config
    init                Generate .ci-hub.yml and hub-ci.yml
    update              Refresh hub-ci.yml and .ci-hub.yml
    validate            Validate .ci-hub.yml against schema
    setup-secrets       Set HUB_DISPATCH_TOKEN on hub and connected repos
    setup-nvd           Set NVD_API_KEY on Java repos for OWASP Dependency
                        Check
    fix-pom             Add missing Maven plugins/dependencies to pom.xml for
                        Java repos
    fix-deps            Add missing Maven dependencies for Java repos
    sync-templates      Sync caller workflow templates to dispatch-enabled
                        repos
    config              Manage hub-side repo configs (config/repos/*.yaml)

options:
  -h, --help            show this help message and exit
  --version             show program's version number and exit
```

## cihub detect

```
usage: cihub detect [-h] [--json] --repo REPO [--language {java,python}]
                    [--explain]

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --repo REPO           Path to repo
  --language {java,python}
                        Override detection
  --explain             Show detection reasons
```

## cihub preflight

```
usage: cihub preflight [-h] [--json] [--full]

options:
  -h, --help  show this help message and exit
  --json      Output machine-readable JSON
  --full      Check optional toolchains and CI runners
```

## cihub doctor

```
usage: cihub doctor [-h] [--json] [--full]

options:
  -h, --help  show this help message and exit
  --json      Output machine-readable JSON
  --full      Check optional toolchains and CI runners
```

## cihub scaffold

```
usage: cihub scaffold [-h] [--json] [--list] [--force] [type] [path]

positional arguments:
  type        Fixture type (python-pyproject, python-setup, java-maven, java-
              gradle, monorepo)
  path        Destination path

options:
  -h, --help  show this help message and exit
  --json      Output machine-readable JSON
  --list      List available fixture types
  --force     Overwrite destination if not empty
```

## cihub smoke

```
usage: cihub smoke [-h] [--json] [--subdir SUBDIR] [--type TYPE] [--all]
                   [--full] [--install-deps] [--force] [--relax] [--keep]
                   [repo]

positional arguments:
  repo             Path to repo (omit to scaffold fixtures)

options:
  -h, --help       show this help message and exit
  --json           Output machine-readable JSON
  --subdir SUBDIR  Subdirectory for monorepos
  --type TYPE      Fixture type to generate (repeatable): python-pyproject,
                   python-setup, java-maven, java-gradle, monorepo
  --all            Generate and test all fixture types
  --full           Run cihub ci after init/validate
  --install-deps   Install repo dependencies during cihub ci
  --force          Allow init to overwrite existing .ci-hub.yml
  --relax          Relax tool toggles and thresholds when running full
  --keep           Keep generated fixtures on disk
```

## cihub check

```
usage: cihub check [-h] [--json] [--smoke-repo SMOKE_REPO]
                   [--smoke-subdir SMOKE_SUBDIR] [--install-deps] [--relax]
                   [--keep] [--install-missing] [--require-optional] [--audit]
                   [--security] [--full] [--mutation] [--all]

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --smoke-repo SMOKE_REPO
                        Path to repo for smoke test (omit to scaffold
                        fixtures)
  --smoke-subdir SMOKE_SUBDIR
                        Subdirectory for monorepo smoke test
  --install-deps        Install repo dependencies during smoke test
  --relax               Relax tool toggles and thresholds during smoke test
  --keep                Keep generated fixtures on disk
  --install-missing     Prompt to install missing optional tools
  --require-optional    Fail if optional tools are missing
  --audit               Add drift detection checks (links, adr, configs)
  --security            Add security checks (bandit, pip-audit, trivy,
                        gitleaks)
  --full                Add validation checks (templates, matrix, license,
                        zizmor)
  --mutation            Add mutation testing with mutmut (~15min, very slow)
  --all                 Run all checks (audit + security + full + mutation)
```

## cihub verify

```
usage: cihub verify [-h] [--json] [--remote] [--integration] [--repo REPO]
                    [--include-disabled] [--install-deps] [--workdir WORKDIR]
                    [--keep]

options:
  -h, --help          show this help message and exit
  --json              Output machine-readable JSON
  --remote            Check connected repos for template drift (requires gh
                      auth)
  --integration       Clone connected repos and run cihub ci (slow, requires
                      gh auth)
  --repo REPO         Target repo (owner/name). Repeatable.
  --include-disabled  Include repos with dispatch_enabled=false
  --install-deps      Install repo dependencies during integration runs
  --workdir WORKDIR   Optional base directory for cloned repos (integration
                      mode)
  --keep              Keep cloned repos on disk (integration mode)
```

## cihub ci

```
usage: cihub ci [-h] [--json] [--repo REPO] [--workdir WORKDIR]
                [--correlation-id CORRELATION_ID] [--output-dir OUTPUT_DIR]
                [--install-deps] [--report REPORT] [--summary SUMMARY]

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --repo REPO           Path to repo (default: .)
  --workdir WORKDIR     Override workdir/subdir
  --correlation-id CORRELATION_ID
                        Hub correlation id
  --output-dir OUTPUT_DIR
                        Output directory for reports (default: .cihub)
  --install-deps        Install repo dependencies before running tools
  --report REPORT       Override report.json path
  --summary SUMMARY     Override summary.md path
```

## cihub run

```
usage: cihub run [-h] [--json] [--repo REPO] [--workdir WORKDIR]
                 [--output-dir OUTPUT_DIR] [--output OUTPUT] [--force]
                 tool

positional arguments:
  tool                  Tool name (pytest, ruff, bandit, etc.)

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --repo REPO           Path to repo (default: .)
  --workdir WORKDIR     Override workdir/subdir
  --output-dir OUTPUT_DIR
                        Output directory for tool outputs (default: .cihub)
  --output OUTPUT       Override tool output path
  --force               Run even if tool is disabled in config
```

## cihub report

```
usage: cihub report [-h] [--json] {build,summary,outputs} ...

positional arguments:
  {build,summary,outputs}
    build               Build report.json from tool outputs
    summary             Render summary from report.json
    outputs             Write workflow outputs from report.json

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
```

## cihub report build

```
usage: cihub report build [-h] [--json] [--repo REPO] [--workdir WORKDIR]
                          [--correlation-id CORRELATION_ID]
                          [--output-dir OUTPUT_DIR] [--tool-dir TOOL_DIR]
                          [--report REPORT] [--summary SUMMARY]

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --repo REPO           Path to repo (default: .)
  --workdir WORKDIR     Override workdir/subdir
  --correlation-id CORRELATION_ID
                        Hub correlation id
  --output-dir OUTPUT_DIR
                        Output directory for reports (default: .cihub)
  --tool-dir TOOL_DIR   Directory containing tool output JSON files
  --report REPORT       Override report.json path
  --summary SUMMARY     Override summary.md path
```

## cihub report summary

```
usage: cihub report summary [-h] [--json] --report REPORT [--output OUTPUT]
                            [--write-github-summary]

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --report REPORT       Path to report.json
  --output OUTPUT       Output summary.md path
  --write-github-summary
                        Write to GITHUB_STEP_SUMMARY if set
```

## cihub report outputs

```
usage: cihub report outputs [-h] [--json] --report REPORT [--output OUTPUT]

options:
  -h, --help       show this help message and exit
  --json           Output machine-readable JSON
  --report REPORT  Path to report.json
  --output OUTPUT  Path to write outputs (defaults to GITHUB_OUTPUT)
```

## cihub docs

```
usage: cihub docs [-h] {generate,check,links} ...

positional arguments:
  {generate,check,links}
    generate            Generate CLI and config reference docs
    check               Check reference docs are up to date
    links               Check documentation for broken links

options:
  -h, --help            show this help message and exit
```

## cihub docs generate

```
usage: cihub docs generate [-h] [--json] [--output OUTPUT] [--check]

options:
  -h, --help       show this help message and exit
  --json           Output machine-readable JSON
  --output OUTPUT  Output directory (default: docs/reference)
  --check          Fail if docs would change
```

## cihub docs check

```
usage: cihub docs check [-h] [--json] [--output OUTPUT]

options:
  -h, --help       show this help message and exit
  --json           Output machine-readable JSON
  --output OUTPUT  Output directory (default: docs/reference)
```

## cihub docs links

```
usage: cihub docs links [-h] [--json] [--external]

options:
  -h, --help  show this help message and exit
  --json      Output machine-readable JSON
  --external  Also check external (http/https) links (requires lychee)
```

## cihub adr

```
usage: cihub adr [-h] {new,list,check} ...

positional arguments:
  {new,list,check}
    new             Create a new ADR from template
    list            List all ADRs with status
    check           Validate ADRs for broken links and missing fields

options:
  -h, --help        show this help message and exit
```

## cihub adr new

```
usage: cihub adr new [-h] [--json] [--dry-run] title

positional arguments:
  title       Title for the new ADR

options:
  -h, --help  show this help message and exit
  --json      Output machine-readable JSON
  --dry-run   Show what would be created without writing
```

## cihub adr list

```
usage: cihub adr list [-h] [--json] [--status STATUS]

options:
  -h, --help       show this help message and exit
  --json           Output machine-readable JSON
  --status STATUS  Filter by status (e.g., accepted, proposed, deprecated)
```

## cihub adr check

```
usage: cihub adr check [-h] [--json]

options:
  -h, --help  show this help message and exit
  --json      Output machine-readable JSON
```

## cihub config-outputs

```
usage: cihub config-outputs [-h] [--json] [--repo REPO] [--workdir WORKDIR]
                            [--github-output]

options:
  -h, --help         show this help message and exit
  --json             Output machine-readable JSON
  --repo REPO        Path to repo (default: .)
  --workdir WORKDIR  Override workdir/subdir
  --github-output    Write outputs to GITHUB_OUTPUT
```

## cihub hub-ci

```
usage: cihub hub-ci [-h]
                    {ruff,black,mutmut,bandit,pip-audit,zizmor-check,validate-configs,validate-profiles,license-check,gitleaks-summary,summary,enforce}
                    ...

positional arguments:
  {ruff,black,mutmut,bandit,pip-audit,zizmor-check,validate-configs,validate-profiles,license-check,gitleaks-summary,summary,enforce}
    ruff                Run ruff and emit issue count
    black               Run black and emit issue count
    mutmut              Run mutmut and emit summary outputs
    bandit              Run bandit and enforce high severity gate
    pip-audit           Run pip-audit and enforce vulnerability gate
    zizmor-check        Check zizmor SARIF for high findings
    validate-configs    Validate hub repo config files
    validate-profiles   Validate profile YAML files
    license-check       Run license checks for dependencies
    gitleaks-summary    Summarize gitleaks results
    summary             Generate hub CI summary
    enforce             Fail if critical hub checks failed

options:
  -h, --help            show this help message and exit
```

## cihub hub-ci ruff

```
usage: cihub hub-ci ruff [-h] [--path PATH] [--force-exclude]
                         [--output OUTPUT] [--github-output]

options:
  -h, --help       show this help message and exit
  --path PATH      Path to lint
  --force-exclude  Force ruff exclude rules
  --output OUTPUT  Write outputs to file
  --github-output  Write outputs to GITHUB_OUTPUT
```

## cihub hub-ci black

```
usage: cihub hub-ci black [-h] [--path PATH] [--output OUTPUT]
                          [--github-output]

options:
  -h, --help       show this help message and exit
  --path PATH      Path to check
  --output OUTPUT  Write outputs to file
  --github-output  Write outputs to GITHUB_OUTPUT
```

## cihub hub-ci mutmut

```
usage: cihub hub-ci mutmut [-h] [--workdir WORKDIR] [--output-dir OUTPUT_DIR]
                           [--min-score MIN_SCORE] [--output OUTPUT]
                           [--github-output] [--summary SUMMARY]
                           [--github-summary]

options:
  -h, --help            show this help message and exit
  --workdir WORKDIR     Workdir to scan
  --output-dir OUTPUT_DIR
                        Directory for mutmut logs
  --min-score MIN_SCORE
                        Minimum mutation score
  --output OUTPUT       Write outputs to file
  --github-output       Write outputs to GITHUB_OUTPUT
  --summary SUMMARY     Write summary to file
  --github-summary      Append summary to GITHUB_STEP_SUMMARY
```

## cihub hub-ci bandit

```
usage: cihub hub-ci bandit [-h] [--paths PATHS [PATHS ...]] [--output OUTPUT]
                           [--severity SEVERITY] [--confidence CONFIDENCE]
                           [--summary SUMMARY] [--github-summary]

options:
  -h, --help            show this help message and exit
  --paths PATHS [PATHS ...]
                        Paths to scan
  --output OUTPUT       Bandit JSON output path
  --severity SEVERITY   Bandit severity level
  --confidence CONFIDENCE
                        Bandit confidence level
  --summary SUMMARY     Write summary to file
  --github-summary      Append summary to GITHUB_STEP_SUMMARY
```

## cihub hub-ci pip-audit

```
usage: cihub hub-ci pip-audit [-h]
                              [--requirements REQUIREMENTS [REQUIREMENTS ...]]
                              [--output OUTPUT] [--summary SUMMARY]
                              [--github-summary]

options:
  -h, --help            show this help message and exit
  --requirements REQUIREMENTS [REQUIREMENTS ...]
                        Requirements files
  --output OUTPUT       pip-audit JSON output path
  --summary SUMMARY     Write summary to file
  --github-summary      Append summary to GITHUB_STEP_SUMMARY
```

## cihub hub-ci zizmor-check

```
usage: cihub hub-ci zizmor-check [-h] [--sarif SARIF] [--summary SUMMARY]
                                 [--github-summary]

options:
  -h, --help         show this help message and exit
  --sarif SARIF      Path to SARIF file
  --summary SUMMARY  Write summary to file
  --github-summary   Append summary to GITHUB_STEP_SUMMARY
```

## cihub hub-ci validate-configs

```
usage: cihub hub-ci validate-configs [-h] [--configs-dir CONFIGS_DIR]

options:
  -h, --help            show this help message and exit
  --configs-dir CONFIGS_DIR
                        Directory containing config repos
```

## cihub hub-ci validate-profiles

```
usage: cihub hub-ci validate-profiles [-h] [--profiles-dir PROFILES_DIR]

options:
  -h, --help            show this help message and exit
  --profiles-dir PROFILES_DIR
                        Directory containing profiles
```

## cihub hub-ci license-check

```
usage: cihub hub-ci license-check [-h] [--summary SUMMARY] [--github-summary]

options:
  -h, --help         show this help message and exit
  --summary SUMMARY  Write summary to file
  --github-summary   Append summary to GITHUB_STEP_SUMMARY
```

## cihub hub-ci gitleaks-summary

```
usage: cihub hub-ci gitleaks-summary [-h] [--outcome OUTCOME]
                                     [--summary SUMMARY] [--github-summary]

options:
  -h, --help         show this help message and exit
  --outcome OUTCOME  Gitleaks outcome
  --summary SUMMARY  Write summary to file
  --github-summary   Append summary to GITHUB_STEP_SUMMARY
```

## cihub hub-ci summary

```
usage: cihub hub-ci summary [-h] [--summary SUMMARY] [--github-summary]

options:
  -h, --help         show this help message and exit
  --summary SUMMARY  Write summary to file
  --github-summary   Append summary to GITHUB_STEP_SUMMARY
```

## cihub hub-ci enforce

```
usage: cihub hub-ci enforce [-h]

options:
  -h, --help  show this help message and exit
```

## cihub new

```
usage: cihub new [-h] [--json] [--owner OWNER] [--language {java,python}]
                 [--branch BRANCH] [--subdir SUBDIR] [--profile PROFILE]
                 [--interactive] [--dry-run] [--yes]
                 name

positional arguments:
  name                  Repo config name (config/repos/<name>.yaml)

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --owner OWNER         Repo owner (GitHub user/org)
  --language {java,python}
                        Repo language
  --branch BRANCH       Default branch (e.g., main)
  --subdir SUBDIR       Subdirectory for monorepos (repo.subdir)
  --profile PROFILE     Apply a profile from templates/profiles
  --interactive         Run interactive wizard (requires cihub[wizard])
  --dry-run             Print output instead of writing
  --yes                 Skip confirmation prompt
```

## cihub init

```
usage: cihub init [-h] [--json] --repo REPO [--language {java,python}]
                  [--owner OWNER] [--name NAME] [--branch BRANCH]
                  [--subdir SUBDIR] [--workdir SUBDIR] [--fix-pom] [--apply]
                  [--force] [--wizard] [--dry-run]

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --repo REPO           Path to repo
  --language {java,python}
                        Override detection
  --owner OWNER         Repo owner (GitHub user/org)
  --name NAME           Repo name
  --branch BRANCH       Default branch (e.g., main)
  --subdir SUBDIR       Subdirectory for monorepos (repo.subdir)
  --workdir SUBDIR      Alias for --subdir
  --fix-pom             Fix pom.xml for Java repos (adds missing
                        plugins/dependencies)
  --apply               Write files (default: dry-run)
  --force               Override repo_side_execution guardrails
  --wizard              Run interactive wizard (requires cihub[wizard])
  --dry-run             Print output instead of writing
```

## cihub update

```
usage: cihub update [-h] [--json] --repo REPO [--language {java,python}]
                    [--owner OWNER] [--name NAME] [--branch BRANCH]
                    [--subdir SUBDIR] [--workdir SUBDIR] [--fix-pom] [--apply]
                    [--force] [--dry-run]

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --repo REPO           Path to repo
  --language {java,python}
                        Override detection
  --owner OWNER         Repo owner (GitHub user/org)
  --name NAME           Repo name
  --branch BRANCH       Default branch (e.g., main)
  --subdir SUBDIR       Subdirectory for monorepos (repo.subdir)
  --workdir SUBDIR      Alias for --subdir
  --fix-pom             Fix pom.xml for Java repos (adds missing
                        plugins/dependencies)
  --apply               Write files (default: dry-run)
  --force               Override repo_side_execution guardrails
  --dry-run             Print output instead of writing
```

## cihub validate

```
usage: cihub validate [-h] [--json] --repo REPO [--strict]

options:
  -h, --help   show this help message and exit
  --json       Output machine-readable JSON
  --repo REPO  Path to repo
  --strict     Fail if pom.xml warnings are found
```

## cihub setup-secrets

```
usage: cihub setup-secrets [-h] [--json] [--hub-repo HUB_REPO] [--token TOKEN]
                           [--all] [--verify]

options:
  -h, --help           show this help message and exit
  --json               Output machine-readable JSON
  --hub-repo HUB_REPO  Hub repository (default: jguida941/ci-cd-hub)
  --token TOKEN        GitHub PAT (prompts if not provided)
  --all                Also set on all connected repos
  --verify             Verify token with GitHub API before setting secrets
```

## cihub setup-nvd

```
usage: cihub setup-nvd [-h] [--json] [--nvd-key NVD_KEY] [--verify]

options:
  -h, --help         show this help message and exit
  --json             Output machine-readable JSON
  --nvd-key NVD_KEY  NVD API key (prompts if not provided)
  --verify           Verify NVD API key before setting secrets
```

## cihub fix-pom

```
usage: cihub fix-pom [-h] [--json] --repo REPO [--apply]

options:
  -h, --help   show this help message and exit
  --json       Output machine-readable JSON
  --repo REPO  Path to repo
  --apply      Apply changes (default: dry-run diff)
```

## cihub fix-deps

```
usage: cihub fix-deps [-h] [--json] --repo REPO [--apply]

options:
  -h, --help   show this help message and exit
  --json       Output machine-readable JSON
  --repo REPO  Path to repo
  --apply      Apply changes (default: dry-run diff)
```

## cihub sync-templates

```
usage: cihub sync-templates [-h] [--json] [--repo REPO] [--include-disabled]
                            [--check] [--dry-run]
                            [--commit-message COMMIT_MESSAGE] [--update-tag]
                            [--no-update-tag] [--yes]

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --repo REPO           Target repo (owner/name). Repeatable.
  --include-disabled    Include repos with dispatch_enabled=false
  --check               Check for template drift without updating
  --dry-run             Show updates without writing
  --commit-message COMMIT_MESSAGE
                        Commit message for synced templates
  --update-tag          Update v1 tag to current HEAD (default: true)
  --no-update-tag       Skip updating v1 tag
  --yes, -y             Skip confirmation prompts (for force-push operations)
```

## cihub config

```
usage: cihub config [-h] [--json] --repo REPO [--dry-run]
                    {edit,show,set,enable,disable} ...

positional arguments:
  {edit,show,set,enable,disable}
    edit                Edit config via wizard
    show                Show config
    set                 Set a config value
    enable              Enable a tool
    disable             Disable a tool

options:
  -h, --help            show this help message and exit
  --json                Output machine-readable JSON
  --repo REPO           Repo config name
  --dry-run             Show updates without writing
```

## cihub config edit

```
usage: cihub config edit [-h] [--json]

options:
  -h, --help  show this help message and exit
  --json      Output machine-readable JSON
```

## cihub config show

```
usage: cihub config show [-h] [--json] [--effective]

options:
  -h, --help   show this help message and exit
  --json       Output machine-readable JSON
  --effective  Show merged defaults + repo config
```

## cihub config set

```
usage: cihub config set [-h] [--json] path value

positional arguments:
  path        Dot path (e.g., repo.use_central_runner)
  value       Value (YAML literal)

options:
  -h, --help  show this help message and exit
  --json      Output machine-readable JSON
```

## cihub config enable

```
usage: cihub config enable [-h] [--json] tool

positional arguments:
  tool        Tool name (e.g., jacoco)

options:
  -h, --help  show this help message and exit
  --json      Output machine-readable JSON
```

## cihub config disable

```
usage: cihub config disable [-h] [--json] tool

positional arguments:
  tool        Tool name (e.g., jacoco)

options:
  -h, --help  show this help message and exit
  --json      Output machine-readable JSON
```

